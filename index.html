<html>
    <head>
        <style>
            body {
                border: 1px solid rgb(0, 0, 0);
                text-align: center;
                background: linear-gradient(90deg, rgb(39, 163, 1), rgb(184, 0, 129));
            }
            h1 {
                position: absolute;
                top: 50%;
                left: 30%;
                transform: translate(-50%, -50%);
                margin: 0;
                }  
            h2 {
                position: absolute;
                top: 90%;
                right: 0%;
                transform: translate(-50%, -50%);
                margin: 0;
                }
            canvas {
                display:block;
                height:50%;
                width: 30%;
                }





            piano {
                list-style: none;
                display: flex;
                position:unset;
                
            }
            piano .key {
                position: relative;
                width: 60px;
                height: 180px;
                border: 3px solid rgb(218, 3, 182);
                border-right: none;
                background: #fff0fb;
                border-radius: 5px;
                box-shadow: 3px 3px 5px #666;
                cursor: pointer;
                display: flex;
                justify-content: center;
                align-items: flex-end;
                padding-bottom: 10px;
                font-weight: bold;
            }
            piano .key:last-child {
                border-right: 1px solid black;
            }
            piano .black-key {
                position: absolute;
                top: -1px;
                left: 37.5px;
                width: 45px;
                height: 120px;
                background: black;
                border-radius: 5px;
                box-shadow: 0px 3px 5px #666;
                z-index: 999;
                display: flex;
                justify-content: center;
                align-items: flex-end;
                padding-bottom: 10px;
                color: white;
            }
            

            
            
            
        </style>
    </head>
    <body>
        <button id="audio-play-button">Play </button>
        <button id="audio-stop-button">Pause </button>
   
        

        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.73/Tone.js"></script>
        <script src= "js/script.js"> </script>
        
        <div id='container'>
        </div>
        <h1>Click to start the Spectrogram</h1>
        <h2>Project by Jeremy Uzan</h2>
        <canvas></canvas>


        




  


       
        <piano id="piano">
            <li data-note="C3" class="key">
              <div data-note="C#3" class="black-key">C#</div>
              C
            </li>
            <li data-note="D3" class="key">
              <div data-note="D#3" class="black-key">D#</div>
              D
            </li>
            <li data-note="E3" class="key">
              E
            </li>
            <li data-note="F3" class="key">
              <div data-note="F#3" class="black-key">F#</div>
              F
            </li>
            <li data-note="G3" class="key">
              <div data-note="G#3" class="black-key">G#</div>
              G
            </li>
            <li data-note="A3" class="key">
              <div data-note="A#3" class="black-key">A#</div>
              A
            </li>
            <li data-note="B3" class="key">
              B
            </li>
            <li data-note="C3" class="key">
              <div data-note="C#3" class="black-key">C</div>
              C#
            <li data-note="D3" class="key">
              D
          </piano>
        


          <script>
            const synth = new Tone.Synth();
            // Set the tone to sine
            synth.oscillator.type = "sine";
            //synth.connect(ANALYSER);
            // connect it to the master output (your speakers)
            synth.toMaster();

            //synth.connect(Analyser);

            //connect the synth to the spectrogram
            synth.connect(ANALYSER);

            const piano = document.getElementById("piano");

            piano.addEventListener("mousedown", e => {
              // fires off a note continously until trigger is released
              synth.triggerAttack(e.target.dataset.note);
            });

            piano.addEventListener("mouseup", e => {
              // stops the trigger
              synth.triggerRelease();
            });

            // handles keyboard events
            document.addEventListener("keydown", e => {
              // e object has the key property to tell which key was pressed
              switch (e.key) {
                case "q":
                  return synth.triggerAttack("C4", "30n");
                case "z":
                  return synth.triggerAttack("C#4", "30n");
                case "s":
                  return synth.triggerAttack("D4", "30n");
                case "e":
                  return synth.triggerAttack("D#4", "30n");
                case "d":
                  return synth.triggerAttack("E4", "30n");
                case "f":
                  return synth.triggerAttack("F4", "30n");
                case "t":
                  return synth.triggerAttack("F#4", "30n");
                case "g":
                  return synth.triggerAttack("G4", "30n");
                case "y":
                  return synth.triggerAttack("G#4", "30n");
                case "h":
                  return synth.triggerAttack("A4", "30n");
                case "u":
                  return synth.triggerAttack("A#4", "30n");
                case "j":
                  return synth.triggerAttack("B4", "30n");
                case "k":
                  return synth.triggerAttack("C5", "30n");
                case "o":
                  return synth.triggerAttack("C#5", "30n");
                case "l":
                  return synth.triggerAttack("D5", "30n");
                default:
                  return;
              }
            });
            // when the key is released, audio is released as well
            document.addEventListener("keyup", e => {
              switch (e.key) {
                case "q":
                case "z":
                case "s":
                case "e":
                case "d":
                case "f":
                case "t":
                case "g":
                case "y":
                case "h":
                case "u":
                case "j":
                case "k":
                case "o":
                case "l" :
                  synth.triggerRelease(); 
              }
            });
          </script> 
      <script>
        
      </script>
    </body>
</html>